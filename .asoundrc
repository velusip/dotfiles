# old revo 7.1 & onboard intel something-or-other

defaults.ctl.card 0
defaults.pcm.card 0
defaults.pcm.device 0

# direct hardware device
pcm.ice1724
{
    type hw
    card 0
    #device 0
}
ctl.ice1724
{
    type hw
    card 0
}
pcm.intel
{
    type hw
    card SB
    device 2
}
pcm.microphone
{
    type plug
    #ipc_key 1027
    slave {
        pcm "intel"
    }
}
# aoss bullshit
pcm.dsp0
{
    type plug
    slave.pcm dmix8
}
ctl.mixer0
{
    type hw
    card 0
}
# pcm.dsp "duplex"
# pcm.dsp1 "duplex"


# plug directly to hardware (8 channels, mix 32-bit, 48000hz)
pcm.dmix8
{
    type dmix
       ipc_key 1024
       ipc_key_add_uid false
       ipc_perm 0660
    slave
    {
        pcm "hw:0,0"
        rate 48000
        format "S16_LE"
        channels 8
        period_time 0
        period_size 1024
        buffer_time 0
        buffer_size 8192
    }
}
# upmix to stereo
pcm.ch71dup
{
    type route
    slave.pcm dmix8
    slave.channels 8
    ttable.0.0 1   #right <- front right
    ttable.1.1 1   #left  <- front left
    ttable.0.2 0.6 #right <- rear left (60%)
    ttable.1.3 0.6 #left  <- rear right (60%)
    ttable.0.4 0.5 #right <- centre (50%)
    ttable.1.4 0.5 #left  <- centre (50%)
    ttable.0.5 0.5 #right <- LFE (50%)
    ttable.1.5 0.5 #left  <- LFE (50%)
    ttable.0.6 1   #right <- side left
    ttable.1.7 1   #left  <- side right
}
# handle both input and output (muxless card)
pcm.duplex
{
    type asym
    playback.pcm "ch71dup" # upmix first while we're stuck on stereo
    capture.pcm {
        type plug
        slave.pcm "hw:1,2"
    }
}
# set default device:
pcm.!default
{
    type plug 
    slave
    {
        pcm "duplex"
    }
}


# TEST spread mono to stereo
pcm.10to20
{
    type route
    slave.pcm default
    slave.channels 2
    ttable.0.0 1
    ttable.0.1 1
}


# TEST softcontrol for a perticular program, cmus
pcm.cmusvol
{
    type softvol
    slave
    {
        pcm "ice1724"
    }
    control
    {
        name "CMUS"
        card 0
    }
}
